<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="/css/generic.css">
<link rel="stylesheet" type="text/css" href="/css/index.css">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>

<body>
   <div class="container">

      <div class="header">
         Tech-Interview-Master
         <div id="userName">
            hello {{user_name}}
         </div>
         <br>
         <a href="/contributions">
            <button id="post_button">
               Post
            </button>
         </a>
      </div>

      <div class="search">
         search
         <input id="search" type="text" name="search">
      </div>

      <!-- <div class="content"> -->
         <ul class="questionList" id="userContributions">
         <!-- list gets filled with the users posts -->
            {% for q in questions %}
            <li class="questionListItem">
               <div class="questionListDiv">
                  <div class="questionListTitle">{{q.question_title}}</div>
                  <div class="questionListPreview">{{q.question_content}}</div>
               </div>

               <div class="hiddenQuestionInfo">{{q.key_string}}</div>

            </li>
            {% endfor %}
         </ul>
      <!-- </div> -->

      {% if has_question_view %}
      <div class="question_viewer">
         <div class="viewer_header">
            <div class="viewer_title">{{current_question.question_title}}</div>
            <div class="viewer_views">{{current_question.views}} views</div>
         </div>
         <hr>
         <div class="viewer_content">{{current_question.question_content}}</div>
         <div class="viewer_metadata">
            <div class="viewer_publishinfo">Posted by {{current_question.author_nickname}}
                                            at {{current_question.formatted_timestamp}}</div> 
            <div class="viewer_tags">
               <ul class="viewer_tag_list" id="viewer_tag_list">
                  <!-- list gets filled with the current questions tags -->
                  {% for tag in current_question.tags %}
                  <li>{{tag}}</li>
                  {% endfor %}
               </ul>
            </div>
         </div>
         {% if user_name != "random user" %}
            {% if not user_has_voted %}
            <div id="viewer_vote">
               <div class="up_vote">up</div>
               <div class="down_vote">down</div>
            </div>
            {% endif %}
         {% endif %}

         <div class="hiddenQuestionInfo">{{current_question.key_string}}</div>

      </div>
      {% endif %}

      <div class="footer">{{debug1}}</div>
      <div>{{debug2}}</div>

   </div>

   <form id="hidden_vote_form" name="hidden_vote_form" action="/" method="post" style="">
      <input id="vote_data" type="hidden" name="vote_data" value="">
      <input type="submit" id="btnVote">
   </form>

</body>

<script src="/js/questionLink.js"></script>
<script src="/js/index.js"></script>
</html>
